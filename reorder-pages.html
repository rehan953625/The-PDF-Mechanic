<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <title>Reorder PDF Pages Offline | Organize & Rearrange PDF Free | The PDF Mechanic</title>
    <meta name="description" content="Rearrange PDF pages securely in your browser with Drag & Drop. Organize, move, and reorder pages instantly. Mobile-friendly, free, and offline." />
    <meta name="keywords" content="reorder pdf pages, organize pdf, rearrange pdf pages, drag and drop pdf pages, move pdf pages, pdf page organizer, free pdf tool offline, mobile pdf organizer" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://www.thepdfmechanic.com/reorder-pages.html" />
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <meta property="og:type" content="website" />
    <meta property="og:title" content="Reorder PDF Pages - Drag & Drop (Offline)" />
    <meta property="og:description" content="Organize your PDF pages visually. Simply drag and drop to rearrange. Processed securely in your browser." />
    <meta property="og:image" content="https://www.thepdfmechanic.com/og-reorder.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Reorder PDF Pages - Free & Secure" />
    <meta name="twitter:description" content="Organize your PDF pages visually with drag and drop." />

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';
    </script>

    <script>
      tailwind.config = {
        darkMode: 'class', 
        theme: {
          extend: {
            colors: { 
                brand: { 50: '#eff6ff', 100: '#dbeafe', 500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8', 900: '#1e3a8a' },
                dark: { bg: '#0f172a', card: '#1e293b', text: '#f8fafc', border: '#334155' } 
            },
            fontFamily: { sans: ['Inter', 'sans-serif'], display: ['Outfit', 'sans-serif'] },
            animation: { 'fade-in': 'fadeIn 0.5s ease-out' },
            keyframes: { fadeIn: { '0%': { opacity: '0', transform: 'translateY(10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } } }
          }
        }
      }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Reorder PDF Pages",
      "applicationCategory": "ProductivityApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "A free online tool to rearrange and organize pages within a PDF document using drag and drop."
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "How do I reorder pages in a PDF?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Upload your file, wait for thumbnails to load, and then simply drag and drop the pages into your desired order."
        }
      },{
        "@type": "Question",
        "name": "Does drag and drop work on mobile?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! Our tool is optimized for touch screens. You can tap, hold, and drag pages easily on Android and iOS devices."
        }
      },{
        "@type": "Question",
        "name": "Is my document secure?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. The process happens entirely in your browser. Your file is never uploaded to any server."
        }
      }]
    }
    </script>
</head>
<body class="font-sans bg-slate-50 text-slate-900 dark:bg-dark-bg dark:text-dark-text flex flex-col min-h-screen transition-colors duration-300">

    <nav class="sticky top-0 z-50 bg-white/90 dark:bg-dark-bg/90 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 transition-colors">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex h-16 items-center justify-between">
          <div class="flex items-center gap-4">
              <a href="index.html" class="flex items-center gap-2 group">
                <div class="w-9 h-9 bg-brand-600 rounded-lg flex items-center justify-center text-white text-lg shadow-md group-hover:bg-brand-700 transition">
                    <i class="fa-solid fa-wrench"></i>
                </div>
                <span class="font-display font-bold text-xl tracking-tight hidden sm:block">The PDF Mechanic</span>
              </a>
          </div>
          <div class="flex items-center gap-4">
             <a href="index.html" class="text-sm font-medium text-slate-500 hover:text-brand-600 dark:text-slate-400 transition hidden md:block">
                <i class="fa-solid fa-arrow-left mr-1"></i> Back Home
             </a>
             <button id="themeToggle" class="w-9 h-9 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-yellow-400 flex items-center justify-center transition hover:ring-2 ring-brand-500">
                <i class="fa-solid fa-moon dark:hidden"></i>
                <i class="fa-solid fa-sun hidden dark:block"></i>
             </button>
          </div>
        </div>
      </div>
    </nav>

    <main class="flex-grow max-w-7xl mx-auto px-4 py-12 w-full">
        
        <div class="text-center mb-10">
            <span class="inline-block py-1 px-3 rounded-full bg-brand-50 dark:bg-brand-900/30 text-brand-600 dark:text-brand-300 text-xs font-bold uppercase tracking-wider mb-3">Offline Tool</span>
            <h1 class="font-display text-4xl md:text-5xl font-extrabold mb-4 text-slate-900 dark:text-white">Reorder PDF Pages</h1>
            <p class="text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto">
                Organize your document visually. Drag and drop pages to rearrange them instantly.
            </p>
        </div>

        <div class="bg-white dark:bg-dark-card rounded-3xl shadow-xl border border-slate-200 dark:border-dark-border overflow-hidden min-h-[500px] transition-colors relative mb-20">
            
            <div class="p-6 md:p-8">
                
                <div id="uploadArea" class="border-3 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl p-16 text-center hover:bg-brand-50 dark:hover:bg-brand-900/10 hover:border-brand-500 transition duration-300 cursor-pointer group relative" onclick="document.getElementById('fileInput').click()">
                    <input type="file" id="fileInput" accept="application/pdf" class="hidden">
                    
                    <div class="w-24 h-24 bg-brand-50 dark:bg-brand-900/20 rounded-full flex items-center justify-center mb-6 mx-auto group-hover:scale-110 transition duration-300">
                        <i class="fa-solid fa-layer-group text-4xl text-brand-600"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-slate-800 dark:text-white mb-2">Select PDF File</h3>
                    <p class="text-slate-500 dark:text-slate-400">or drop PDF here to organize</p>
                </div>

                <div id="loading" class="hidden flex flex-col items-center justify-center py-20">
                    <i class="fa-solid fa-circle-notch fa-spin text-brand-600 text-5xl mb-6"></i>
                    <p class="text-slate-600 dark:text-slate-300 font-medium text-lg">Loading pages... Please wait</p>
                    <p class="text-sm text-slate-400 mt-2">Generating thumbnails for your visual editor</p>
                </div>

                <div id="editorArea" class="hidden animate-fade-in">
                    
                    <div class="flex flex-col sm:flex-row items-center justify-between bg-slate-50 dark:bg-slate-800 p-4 rounded-xl mb-6 border border-slate-200 dark:border-slate-700 gap-4 sticky top-0 z-20 shadow-sm">
                        <div class="flex items-center gap-3">
                            <i class="fa-solid fa-file-pdf text-brand-600 text-2xl"></i>
                            <div>
                                <span id="fileName" class="block font-semibold text-slate-800 dark:text-slate-200 text-sm truncate max-w-[150px] sm:max-w-[200px]">document.pdf</span>
                                <span class="text-xs text-slate-500" id="pageCountDisplay">0 Pages</span>
                            </div>
                        </div>
                        <div class="flex gap-3 w-full sm:w-auto">
                            <button onclick="location.reload()" class="flex-1 sm:flex-none px-4 py-2 text-slate-500 hover:text-red-500 font-medium text-sm transition border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-dark-card">
                                Cancel
                            </button>
                            <button id="saveBtn" class="flex-1 sm:flex-none bg-brand-600 text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-brand-700 shadow-md transition flex items-center justify-center gap-2">
                                <i class="fa-solid fa-download"></i> Save PDF
                            </button>
                        </div>
                    </div>

                    <div class="text-center mb-6">
                        <div class="inline-flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-full text-xs font-semibold">
                            <i class="fa-solid fa-hand-pointer"></i> Drag and Drop pages to reorder
                        </div>
                    </div>

                    <div id="pagesGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 p-2 min-h-[300px]">
                        </div>

                </div>

                <div id="downloadArea" class="hidden text-center py-10 animate-fade-in">
                    <div class="w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6">
                        <i class="fa-solid fa-check text-4xl text-green-600 dark:text-green-400"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-slate-800 dark:text-white mb-2">Sorted!</h3>
                    <p class="text-slate-600 dark:text-slate-400 mb-8">Your PDF pages have been reordered successfully.</p>
                    
                    <a id="downloadBtn" class="inline-flex items-center justify-center bg-brand-600 text-white px-10 py-3 rounded-lg font-bold text-lg hover:bg-brand-700 shadow-md transition cursor-pointer">
                        <i class="fa-solid fa-download mr-2"></i> Download PDF
                    </a>
                    
                    <button onclick="location.reload()" class="block mx-auto mt-6 text-slate-500 hover:text-brand-600 underline text-sm">
                        Reorder Another File
                    </button>
                </div>

            </div>

            <div class="bg-slate-50 dark:bg-slate-800/50 p-4 border-t border-slate-200 dark:border-slate-700 flex justify-center items-center gap-6 text-sm text-slate-500 dark:text-slate-400 flex-wrap">
                <span class="flex items-center gap-2"><i class="fa-solid fa-lock text-brand-500"></i> Secure Processing</span>
                <span class="flex items-center gap-2"><i class="fa-solid fa-bolt text-brand-500"></i> Drag & Drop</span>
                <span class="flex items-center gap-2"><i class="fa-solid fa-mobile-screen text-brand-500"></i> Mobile Ready</span>
            </div>
        </div>

        <section class="mb-20">
            <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-8 font-display">Organize Your PDF Pages with Ease</h2>
            
            <article class="prose dark:prose-invert max-w-none text-slate-600 dark:text-slate-400 leading-relaxed">
                <p class="mb-6">
                    A disorganized PDF document can be unprofessional and confusing. Whether you scanned documents in the wrong order or merged files that need rearranging, <strong>reordering PDF pages</strong> is a common necessity. The PDF Mechanic provides the simplest, most intuitive way to fix your documents.
                </p>

                <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-4">Why use our Reorder Tool?</h3>
                <p class="mb-6">
                    Unlike traditional software where you have to type page numbers manually (e.g., "1,3,2,4"), our tool offers a fully <strong>Visual Drag & Drop Interface</strong>. You see exactly what you are doing.
                </p>
                <ul class="list-disc pl-5 space-y-2 mb-6">
                    <li><strong>Drag & Drop:</strong> Simply click and hold a page thumbnail to move it. It feels just like moving apps on your phone's home screen.</li>
                    <li><strong>Mobile Optimized:</strong> We know many users work from their phones. Our interface is touch-friendly, allowing you to organize documents on the go.</li>
                    <li><strong>100% Privacy:</strong> Your PDF is processed locally in your browser. We don't upload your file to any cloud server, ensuring total confidentiality.</li>
                </ul>

                <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-4">How to Reorder PDF Pages?</h3>
                <ol class="list-decimal pl-5 space-y-2 mb-6">
                    <li>Click <strong>Select PDF File</strong> and choose your document.</li>
                    <li>Wait for the page thumbnails to generate.</li>
                    <li><strong>Drag and Drop</strong> the pages into your desired sequence.</li>
                    <li>Click <strong>Save PDF</strong> to download your newly organized file.</li>
                </ol>

                <div class="bg-brand-50 dark:bg-brand-900/20 p-6 rounded-2xl border-l-4 border-brand-500">
                    <h4 class="font-bold text-brand-700 dark:text-brand-400 mb-2"><i class="fa-solid fa-lightbulb mr-2"></i>Tip</h4>
                    <p class="text-sm">
                        You can also use this tool to delete pages! While this is primarily for reordering, if you skip selecting a page range in other tools, here you simply organize what you want to keep (future update). For now, use the dedicated <a href="delete-pages.html" class="text-brand-600 underline">Delete Pages</a> tool for removal.
                    </p>
                </div>
            </article>
        </section>

        <section class="grid grid-cols-1 md:grid-cols-2 gap-12 mb-20">
            <div>
                <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-6">Frequently Asked Questions</h2>
                <div class="space-y-4">
                    <details class="group bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-5 cursor-pointer shadow-sm">
                        <summary class="flex justify-between items-center font-bold text-slate-800 dark:text-white">
                            <span>How do I move pages?</span>
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-brand-500"></i></span>
                        </summary>
                        <p class="text-sm text-slate-600 dark:text-slate-300 mt-3 pl-2 border-l-2 border-brand-500">
                            On Desktop: Click and hold a page with your mouse, then drag it. <br>
                            On Mobile: Touch and hold a page with your finger, then drag it to the new spot.
                        </p>
                    </details>
                    <details class="group bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-5 cursor-pointer shadow-sm">
                        <summary class="flex justify-between items-center font-bold text-slate-800 dark:text-white">
                            <span>Is it free?</span>
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-brand-500"></i></span>
                        </summary>
                        <p class="text-sm text-slate-600 dark:text-slate-300 mt-3 pl-2 border-l-2 border-brand-500">
                            Yes, it is completely free to use as many times as you want.
                        </p>
                    </details>
                    <details class="group bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl p-5 cursor-pointer shadow-sm">
                        <summary class="flex justify-between items-center font-bold text-slate-800 dark:text-white">
                            <span>Is it secure?</span>
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-brand-500"></i></span>
                        </summary>
                        <p class="text-sm text-slate-600 dark:text-slate-300 mt-3 pl-2 border-l-2 border-brand-500">
                            Absolutely. We use browser-based technology, so your file never leaves your computer or phone.
                        </p>
                    </details>
                </div>
            </div>
            
             <div class="flex flex-col justify-center">
                <div class="bg-brand-50 dark:bg-brand-900/10 rounded-3xl p-8 border border-brand-100 dark:border-brand-800/30 text-center">
                    <div class="w-16 h-16 bg-brand-100 dark:bg-brand-900/30 text-brand-600 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl">
                        <i class="fa-solid fa-shield-cat"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-2">Privacy First</h3>
                    <p class="text-slate-600 dark:text-slate-400 text-sm leading-relaxed mb-6">
                        We do not store or view your files. Everything happens on your device.
                    </p>
                    <a href="privacy.html" class="text-brand-600 font-semibold hover:text-brand-700 dark:hover:text-brand-400 text-sm">Read Privacy Policy <i class="fa-solid fa-arrow-right ml-1"></i></a>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-950 text-slate-400 pt-16 pb-8 border-t border-slate-800 mt-auto">
        <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-10 mb-10">
            <div class="col-span-1 sm:col-span-2 md:col-span-1">
                <div class="flex items-center gap-2 mb-4 text-white">
                    <i class="fa-solid fa-wrench text-brand-600 text-xl"></i>
                    <span class="font-bold text-xl font-display">The PDF Mechanic</span>
                </div>
                <p class="text-sm leading-relaxed text-slate-500 mb-4">
                    Built for speed and privacy. The only PDF toolkit that works 100% offline in your browser.
                </p>
                </div>
            
            <div>
                <h4 class="text-white font-bold text-sm mb-4">Organize & Edit</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="merger.html" class="hover:text-brand-500 transition">Merge PDF</a></li>
                    <li><a href="compressor.html" class="hover:text-brand-500 transition">Compress PDF</a></li>
                    <li><a href="reorder-pages.html" class="text-white font-bold">Reorder Pages</a></li>
                </ul>
            </div>

            <div>
                <h4 class="text-white font-bold text-sm mb-4">Convert</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="pdf-to-word.html" class="hover:text-brand-500 transition">PDF to Word</a></li>
                    <li><a href="images-to-pdf.html" class="hover:text-brand-500 transition">JPG to PDF</a></li>
                </ul>
            </div>

            <div>
                <h4 class="text-white font-bold text-sm mb-4">Legal & More</h4>
                <ul class="space-y-2 text-sm">
                    <li><a href="privacy.html" class="hover:text-brand-500 transition">Privacy Policy</a></li>
                    <li><a href="terms.html" class="hover:text-brand-500 transition">Terms of Use</a></li>
                </ul>
            </div>
        </div>
        
        <div class="border-t border-slate-900 pt-8 text-center text-xs text-slate-600 px-4">
            &copy; <span id="year"></span> The PDF Mechanic. All rights reserved.
        </div>
    </footer>

    <script>
        // Theme Logic
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          html.classList.add('dark');
        } else { html.classList.remove('dark'); }
        themeToggle.addEventListener('click', () => {
          html.classList.toggle('dark');
          localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
        });
        document.getElementById('year').textContent = new Date().getFullYear();

        // --- Logic Variables ---
        const fileInput = document.getElementById('fileInput');
        const uploadArea = document.getElementById('uploadArea');
        const editorArea = document.getElementById('editorArea');
        const pagesGrid = document.getElementById('pagesGrid');
        const loading = document.getElementById('loading');
        
        let currentFile = null;
        let pdfBytes = null;
        let pdfDoc = null; // PDF.js doc for rendering
        let sortable = null;

        // 1. Handle Upload
        fileInput.addEventListener('change', async (e) => {
            if (e.target.files && e.target.files[0]) {
                currentFile = e.target.files[0];
                document.getElementById('fileName').innerText = currentFile.name;
                uploadArea.classList.add('hidden');
                loading.classList.remove('hidden');

                try {
                    const buffer = await currentFile.arrayBuffer();
                    pdfBytes = buffer.slice(0); // clone for saving
                    const renderBytes = buffer.slice(0); // clone for rendering

                    // Load PDFjs
                    pdfDoc = await pdfjsLib.getDocument(renderBytes).promise;
                    document.getElementById('pageCountDisplay').innerText = `${pdfDoc.numPages} Pages`;

                    // Render Grid
                    await renderPages();

                    // Init Sortable
                    initSortable();

                    loading.classList.add('hidden');
                    editorArea.classList.remove('hidden');

                } catch (err) {
                    console.error(err);
                    alert("Error loading PDF");
                    location.reload();
                }
            }
        });

        // 2. Render Thumbnails
        async function renderPages() {
            pagesGrid.innerHTML = '';
            
            for (let i = 1; i <= pdfDoc.numPages; i++) {
                const page = await pdfDoc.getPage(i);
                const viewport = page.getViewport({ scale: 0.3 }); // Small scale for speed
                
                // Card
                const div = document.createElement('div');
                div.className = "relative group cursor-grab active:cursor-grabbing border-2 border-transparent bg-slate-100 dark:bg-slate-700 rounded-lg overflow-hidden hover:shadow-lg transition-all hover:scale-105 select-none";
                div.setAttribute('data-original-index', i - 1); // 0-based index

                // Canvas
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.height = viewport.height;
                canvas.width = viewport.width;
                canvas.className = "w-full h-auto pointer-events-none"; // pointer-events-none ensures drag works on container

                await page.render({ canvasContext: context, viewport: viewport }).promise;

                // Page Number Badge
                const badge = document.createElement('div');
                badge.className = "absolute top-2 left-2 bg-slate-900/80 text-white text-xs px-2 py-1 rounded shadow-sm";
                badge.innerText = `Page ${i}`;

                // Drag Handle (Optional visual cue)
                const overlay = document.createElement('div');
                overlay.className = "absolute inset-0 bg-brand-500/0 hover:bg-brand-500/10 transition flex items-center justify-center";
                overlay.innerHTML = '<i class="fa-solid fa-up-down-left-right text-white opacity-0 group-hover:opacity-100 drop-shadow-md text-3xl"></i>';

                div.appendChild(canvas);
                div.appendChild(badge);
                div.appendChild(overlay);
                pagesGrid.appendChild(div);
            }
        }

        // 3. Initialize Drag & Drop
        function initSortable() {
            if(sortable) sortable.destroy();
            sortable = new Sortable(pagesGrid, {
                animation: 150,
                ghostClass: 'bg-brand-100', // Class applied to the placeholder
                chosenClass: 'ring-2', // Class applied to the dragged item
                dragClass: 'opacity-50',
                delay: 100, // Small delay for touch to prevent accidental drags while scrolling
                delayOnTouchOnly: true
            });
        }

        // 4. Save PDF
        document.getElementById('saveBtn').addEventListener('click', async () => {
            const btn = document.getElementById('saveBtn');
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Processing...';
            btn.disabled = true;

            try {
                // Get New Order from DOM
                const items = Array.from(pagesGrid.children);
                const newOrderIndices = items.map(item => parseInt(item.getAttribute('data-original-index')));

                // PDF Lib Logic
                const { PDFDocument } = PDFLib;
                const srcDoc = await PDFDocument.load(pdfBytes);
                const newDoc = await PDFDocument.create();

                const copiedPages = await newDoc.copyPages(srcDoc, newOrderIndices);
                copiedPages.forEach(page => newDoc.addPage(page));

                const pdfData = await newDoc.save();
                const blob = new Blob([pdfData], { type: 'application/pdf' });
                
                // Show Result
                document.getElementById('editorArea').classList.add('hidden');
                document.getElementById('downloadArea').classList.remove('hidden');

                const url = URL.createObjectURL(blob);
                const link = document.getElementById('downloadBtn');
                link.href = url;
                const originalName = currentFile.name.replace(/\.[^/.]+$/, "");
                link.download = `${originalName}-reordered-thepdfmechanic.pdf`;

            } catch (err) {
                console.error(err);
                alert("Error saving PDF.");
                btn.innerHTML = '<i class="fa-solid fa-download"></i> Save PDF';
                btn.disabled = false;
            }
        });

    </script>
    <script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js')
        .then((registration) => {
          console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }, (err) => {
          console.log('ServiceWorker registration failed: ', err);
        });
    });
  }
</script>
</body>
</html>